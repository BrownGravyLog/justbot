<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: DEVELOPERS
  
    &mdash; Documentation by YARD 0.8.7
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: DEVELOPERS</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'>
<h1 id="label-Justbot+Development">Justbot Development</h1>
<ol><li>
<p>Fork on Github</p>
</li><li>
<p><code>git checkout -b my-feature</code></p>
</li><li>
<p>Hack away</p>
</li><li>
<p>Merge changes from <code>justjake/justbot:master</code></p>
</li><li>
<p>Submit a github pull request</p>
</li></ol>

<h2 id="label-Generated+Documentation">Generated Documentation</h2>

<p><em>Online documentation for Justbot</em>:
<a
href="http://rubydoc.info/github/justjake/justbot/frames">rubydoc.info/github/justjake/justbot/frames</a></p>

<p><em>Documentation for <a
href="https://github.com/cinchrb/cinch/">Cinch</a></em>:</p>
<ul><li>
<p>Getting Started: <a
href="http://rubydoc.info/github/cinchrb/cinch/file/docs/getting_started.md">here</a></p>
</li><li>
<p>Main docs: <a
href="http://rubydoc.info/gems/cinch/frames">rubydoc.info/gems/cinch/frames</a></p>
</li><li>
<p>Directives availiable to create plugins:
 <a
href="http://rubydoc.info/gems/cinch/Cinch/Plugin/ClassMethods">rubydoc.info/gems/cinch/Cinch/Plugin/ClassMethods</a></p>
</li></ul>

<p><em>Documentation for DataMapper</em>, our ORM: <a
href="http://datamapper.org/docs">datamapper.org/docs</a>/</p>

<h2 id="label-Architecture">Architecture</h2>

<p>Justbot has three major components:</p>
<ol><li>
<p>It is a collection of Chinch plugins. These you could consider

ViewControllers if you want to look at this as an MVC-style project.
 A
plugin defines a set of responses to IRC events.</p>
</li><li>
<p>It provides a friendly help system for plugin authors, allowing you
 to
easily document your Cinch matches so your users can query the IRC
 bot for
usage information. See <span class='object_link'><a href="Justbot/Helpful.html" title="Justbot::Helpful (module)">Justbot::Helpful</a></span> for useful IRC help
 tools.</p>
</li><li>
<p>It manages user authentication and authorization for plugins, with a

DataMapper ORM backend, so it can run atop any of the databases
 DataMapper
supports.</p>
</li></ol>

<h3 id="label-Justbot+execution+steps">Justbot execution steps</h3>

<p>See <code>bin/justbot</code> for the primary example of a bot using this
project.</p>
<ol><li>
<p>Use <code>Bundler</code> so we have only the gems defined in our gemfile.</p>
</li><li>
<p>Load definitions of all models so we can <code>DataMapper.finalize!</code>
which
 confirms model valididy and instantiates the ORM runtime.</p>
</li><li>
<p>Load Cinch and Justbot plugins</p>
</li><li>
<p>Define a new Chinch bot and hook up our plugins</p>
</li><li>
<p>Connect the bot to the IRC server</p>
</li></ol>

<p>Read the <a
href="http://rubydoc.info/github/cinchrb/cinch/file/docs/getting_started.md">Cinch
getting started documentation</a> to get a feel for how
Justbot&#39;s IRC
system works.</p>

<h3 id="label-Architecture+TODOs">Architecture TODOs</h3>

<p>These are in order of importance.</p>
<ol><li>
<p>Create Justbot::Models to store our DataMapper models, in a
 directory
like <code>models</code>. Relocate <span class='object_link'><a href="Justbot/User.html" title="Justbot::User (class)">Justbot::User</a></span>.</p>
</li><li>
<p>Define or import a flexible authorization model. Right now we just
 confirm
if a user is an administrator (<span class='object_link'><a href="Justbot/User.html#is_admin%3F-instance_method" title="Justbot::User#is_admin? (method)">Justbot::User#is_admin?</a></span>). We
 need
permission authrizations that plugins can define.</p>
</li></ol>

<p>This should be called Justbot::Authorization.</p>
<ol><li>
<p>Reorganize the directory structure to group all code under

<code>lib/justbot</code> instead of everything just lying around
un-prefixed in
 <code>lib</code> so we can think about becoming a Rubygem
someday or something.</p>
</li></ol>

<h2 id="label-Creating+a+plugin">Creating a plugin</h2>

<p>Creating a Justbot plugin is almost identical to the system for
creating
Cinch plugins. There are just a couple of extra steps:</p>
<ol><li>
<p>All plugins go in <span class='object_link'><a href="Justbot/Plugins.html" title="Justbot::Plugins (module)">Justbot::Plugins</a></span>, as files inside of

<code>lib/plugins</code>.</p>
</li><li>
<p>Plugins include both Cinch::Plugin (this gives you all the
 handy-dandy
Cinch plugin definition methods) AND <span class='object_link'><a href="Justbot/Helpful.html" title="Justbot::Helpful (module)">Justbot::Helpful</a></span>,
 which adds
support for the Justbot help system.</p>
</li><li>
<p>You should add your plugin to the list of all plugins,

Justbot::Plugins::All at the end of your class definition.
 This allows
bots to include all plugins at once without having to
 modify the bot&#39;s
executable file.</p>
</li></ol>

<p>Here&#39;s the bare minimum plugin definition:</p>

<pre class="ruby">
    <span class="ruby-keyword">module</span> <span class="ruby-constant">Justbot</span>
      <span class="ruby-keyword">module</span> <span class="ruby-constant">Plugins</span>
      
        <span class="ruby-comment"># Cool new plugin</span>
        <span class="ruby-keyword">class</span> <span class="ruby-constant">MyNewPlugin</span>
          <span class="ruby-identifier">include</span> <span class="ruby-constant">Cinch</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>
          <span class="ruby-identifier">include</span> <span class="ruby-constant">Justbot</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpful</span>
                    
          <span class="ruby-comment"># ... cinch plugin definition ...</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-comment"># add my plugin to the list of all plugins</span>
        <span class="ruby-constant">All</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">MyNewPlugin</span>
        
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
</pre>
</div></div>

    <div id="footer">
  Generated on Thu Aug  8 19:36:13 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7 (ruby-2.0.0).
</div>

  </body>
</html>